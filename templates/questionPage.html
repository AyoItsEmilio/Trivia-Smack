{% extends "base.html" %}
{% block content %}

<form id="questionForm" method="post">

{% if question %}
    <p>{{ question }}</p>
{% endif %}
{% if options %}
    {% for o in options %}

        {% set id=loop.index %}

        <label class="optionButton" id="{{id}}">
        • {{o}}
        {% if o==answer %}
            <input onClick='show_result("RIGHT", {{id}}, "green")' name="btn" value="right"/>
        {% else %}
            <input onClick='show_result("WRONG", {{id}}, "red")' name="btn" value="wrong"/>
        {% endif %}
        </label>

        <br><br>
    {% endfor %}
{% endif %}
</form>

<script>
function show_result(result, id, color) {
    var element = document.getElementById(id);
    element.style.color = "white";
    element.style.fontWeight = "bold";
    element.style.background = color;
    element.innerHTML = "• "+result+"!";
    setTimeout(function(){
        document.getElementById("questionForm").submit();
    }, 80);
}
</script>

{% endblock %}